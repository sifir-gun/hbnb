<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>List of Places</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
</head>

<body>
	<!-- Header Section -->
	<header>
		<img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="logo" />
		<nav class="centered-nav">
			<ul>
				<li><a href="{{ url_for('main.index') }}">Logements</a></li>
				<li><a href="#">Expériences</a></li>
			</ul>
		</nav>
		<div class="action-buttons">
			<a href="#" class="host-button" id="add-place-button">Mettre mon logement sur Hbnb</a>
			<a href="{{ url_for('main.login') }}" class="login-button" id="auth-button">Login</a>
		</div>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
	</header>

	<!-- Main Search Section -->
	<section id="search-bar">
		<div class="search-item">
			<label for="destination">Destination</label>
			<input type="text" id="destination" placeholder="Rechercher une destination" />
		</div>
		<div class="divider"></div>
		<div class="search-item short">
			<label for="arrival">Arrivée</label>
			<input type="text" id="arrival" placeholder="Quand ?" onfocus="(this.type='date')" />
		</div>
		<div class="divider"></div>
		<div class="search-item short">
			<label for="departure">Départ</label>
			<input type="text" id="departure" placeholder="Quand ?" onfocus="(this.type='date')" />
		</div>
		<div class="divider"></div>
		<div class="search-item short">
			<label for="travelers">Voyageurs</label>
			<input type="text" id="travelers" placeholder="Ajouter des voyageurs" />
		</div>
		<button class="search-button">
			<i class="fa fa-search"></i> Rechercher
		</button>
	</section>

	<!-- Filter Section -->
	<section class="filter-container">
		<div class="category-filters">
		<button class="filter-button" data-category="iconic">Iconiques</button>
		<button class="filter-button" data-category="countryside">Campagne</button> 
		<button class="filter-button" data-category="treehouse">Cabane perchée</button>
		<button class="filter-button" data-category="pool">Piscines</button>
		</div>
		<button id="filterButton" class="filter-btn">
		<i class="fas fa-sliders-h"></i> Filtres
		</button>
	</section>

	<!-- Places List Section -->
	<section id="places-list">
		{% if places %}
		{% for place in places %}
		<article class="place-card">
			<a href="{{ url_for('main.place', place_id='1') }}">
				<img src="{{ url_for('static', filename='images/places/default-place.jpg') }}"
				alt="Place"
				class="place-image">
				<h2>{{ place.title }}</h2>
				<p>{{ place.price }}€ par nuit</p>
			</a>
		</article>
		{% endfor %}
		{% else %}
		<!-- Contenu statique temporaire pour le développement -->
		<article class="place-card">
			<img src="{{ url_for('static', filename='images/cabane_des_bois.jpg') }}" alt="Cabane des bois"
				class="place-image">
			<h2>Cabane des bois</h2>
			<p>149€ par nuit</p>
		</article>

		<article class="place-card" onclick="window.location.href='/caravane'">
			<img src="{{ url_for('static', filename='images/caravane.jpg') }}" alt="Caravane vue extérieure" class="place-image">
			<h2>La Caravane du cousin tkt</h2>
			<p>249€ par nuit</p>
		</article>
		{% endif %}
	</section>

	<!-- Modal filtre -->
	<div id="filterModal" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<button class="close-btn">&times;</button>
				<h2>Filtres</h2>
				<div></div>
			</div>
			
			<!-- Type de logement -->
			<div class="filter-section">
				<h3>Type de logement</h3>
				<div class="type-buttons">
					<button class="type-btn active">Tous les types</button>
					<button class="type-btn">Chambre</button>
					<button class="type-btn">Logement entier</button>
				</div>
			</div>

			<!-- Prix -->
			<div class="filter-section">
				<h3>Fourchette de prix</h3>
				<p class="subtitle">Prix par nuit, frais et taxes compris</p>
				<div class="price-inputs">
					<div class="price-input">
						<label>Minimum</label>
						<input type="number" value="9" min="0">
					</div>
					<div class="price-input">
						<label>Maximum</label>
						<input type="number" value="250" min="0">
					</div>
				</div>
			</div>

			<!-- Chambres et lits -->
			<div class="filter-section">
				<h3>Chambres et lits</h3>
				<div class="counter-group">
					<div class="counter">
						<span>Chambres</span>
						<div class="counter-controls">
							<button class="counter-btn minus">-</button>
							<span class="counter-value">0</span>
							<button class="counter-btn plus">+</button>
						</div>
					</div>
					<div class="counter">
						<span>Lits</span>
						<div class="counter-controls">
							<button class="counter-btn minus">-</button>
							<span class="counter-value">0</span>
							<button class="counter-btn plus">+</button>
						</div>
					</div>
					<div class="counter">
						<span>Salles de bain</span>
						<div class="counter-controls">
							<button class="counter-btn minus">-</button>
							<span class="counter-value">0</span>
							<button class="counter-btn plus">+</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Équipements -->
			<div class="filter-section">
				<h3>Équipements</h3>
				<div class="amenities-grid">
					<label class="checkbox-label">
						<input type="checkbox"> Cuisine
					</label>
					<label class="checkbox-label">
						<input type="checkbox"> Espace de travail dédié
					</label>
					<label class="checkbox-label">
						<input type="checkbox"> Wifi
					</label>
					<label class="checkbox-label">
						<input type="checkbox"> Parking gratuit
					</label>
					<label class="checkbox-label">
						<input type="checkbox"> Lave-linge
					</label>
					<label class="checkbox-label">
						<input type="checkbox"> Bord de mer
					</label>
				</div>
				<button class="show-more">Afficher plus</button>
			</div>

			<!-- Footer -->
			<div class="modal-footer">
				<button class="clear-btn">Tout effacer</button>
				<button class="apply-btn">Afficher plus de 1 000 logements</button>
			</div>
		</div>
	</div>

	<!-- Footer Section -->
	<footer>
		<p>&copy; 2024 All rights reserved by Néia, Guney, Xavier</p>
	</footer>
	<div id="add-place-modal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h2>Ajouter un logement</h2>
			<form id="place-form" class="place-form">
				<div class="form-group">
					<label for="title">Titre*</label>
					<input type="text" id="title" name="title" required>
				</div>
	
				<div class="form-group">
					<label for="description">Description*</label>
					<textarea id="description" name="description" required></textarea>
				</div>
	
				<div class="form-group">
					<label for="price">Prix par nuit (€)*</label>
					<input type="number" id="price" name="price" min="1" required>
				</div>
	
				<div class="form-group">
					<label for="latitude">Latitude</label>
					<input type="number" id="latitude" name="latitude" step="0.000001">
				</div>
	
				<div class="form-group">
					<label for="longitude">Longitude</label>
					<input type="number" id="longitude" name="longitude" step="0.000001">
				</div>
	
				<div class="form-group">
					<label>Équipements</label>
					<div class="amenities-list" id="amenities-list">
						<!-- Les équipements seront ajoutés dynamiquement ici -->
					</div>
				</div>
	
				<button type="submit" class="submit-button">Ajouter le logement</button>
			</form>
		</div>
	</div>
	<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
	<!-- Bouton filtre -->
<button id="filterButton" class="filter-btn">
    <i class="fas fa-sliders-h"></i> Filtres
</button>
</body>

</html>
